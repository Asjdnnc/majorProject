<%- layout("/layouts/boilerplate") -%>
<div class="row mt-3 mb-3">
    <h1>Your Reservation </h1>
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
        <% reservations.forEach(reservation => { %>
            <div id='reservation-border' style="margin-right: 30px; width:600px; margin-bottom: 20px; padding-top: 20px; border-radius: 10px;">
                <div class="card listing-card" style="margin-bottom: 20px;">
                    <div style="display: flex;">
                        <div class="glass" style="flex: 2; max-width: 40%;"> 
                            <img src="<%= reservation.listing.image.url %>"
                                 class="card-img-top" 
                                 alt="listing_img" 
                                 style="height:15rem; width:100%; object-fit:contain;"> 
                        </div>
                        <div class="card-body d-flex flex-column" style="margin-left: 30px; flex: 2;"> <!-- Flex column for card body -->
                            <div style="flex-grow: 1;">
                                <p id='listing-text3'>
                                    <b><i>Name</i></b> : <%= reservation.listing.title %><br>
                                    <b><i>Price</i></b> : â‚¹<%= reservation.price.toLocaleString("en-IN") %><br>
                                    <b><i>Location</i></b> : <%= reservation.listing.location %><br>
                                    <b><i>Check-In</i></b> : <%= reservation.checkIn.toDateString() %><br>
                                    <b><i>Check-Out</i></b> : <%= reservation.checkOut.toDateString() %><br>
                                    <b><i>Guests</i></b> : <%= reservation.guest%><br>
                                </p>
                            </div>
                            <div> <!-- Container for the delete button -->
                                <form method="post" action="/destroyReservation/<%= reservation._id %>?_method=delete">
                                    <input type="hidden" name="userId" value="<%= user._id %>">
                                    <button class="btn btn-dark add-btn" style="color: white; z-index: 10; margin-top:10px;">Delete</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <% }) %>
    </div>
</div>
